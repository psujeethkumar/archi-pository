| Design Principle                                                                                                                 | Explaination                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| :------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Keep application configuration outside of the image                                                                              | Container images that include environment-specific configuration cannot be promoted across environments (Dev, Test, Staging, Prod).<br />To achieve a reliable release process, the same image that was tested in the lower environments should be deployed into production.<br /><br />Keep the environment-specific configuration outside of the container image. For example, use ConfigMaps and Secrets to store the application configuration. |
| Specify the resource requests and<br />resource limits in the pod definitions.                                                   | Applications can run out of memory or incur CPU starvation due to improper configuration of requested resources.<br />Specifying the requested memory and CPU resources allows the cluster to make proper scheduling decisions to ensure that the application will have the requested resources available.                                                                                                                                          |
| Always define liveness and<br />readiness probes in the pod definitions.                                                         | Health check probes allow the cluster to provide basic resiliency to your application.<br />Probes allows the cluster to restart your application (e.g.Â liveness probe failed), or avoid routing traffic to your application if it's not ready to serve requests (readiness probe).                                                                                                                                                                |
| Protect the application with pod disruption budgets                                                                              | There are situations where the application pods need to be evicted from the cluster node.<br />For example, the eviction is needed before the administrator can perform maintenance of the node or before the cluster autoscaler can remove the node from the cluster while downscaling. <br />To ensure that your application remains available when pods need to be evicted, you must define the respective PodDistruptionBudget objects.         |
| Ensure that application pods terminate gracefully                                                                                | On termination, an application pod should complete all in-flight requests and terminate existing connections gracefully.<br />This allows for restarting the pod without end-users noticing, for example when a new version of the application is deployed.                                                                                                                                                                                         |
| Run one process per container                                                                                                    | Avoid running multiple processes in a single container.<br />Running each process in a separate container allows for better isolation of processes, avoids issues with signal routing, and avoids the need for reaping the zombie processes                                                                                                                                                                                                         |
| Implement application monitoring and alerting                                                                                    | Application monitoring and alerting are essential for keeping the application operating well in production and serving the business purpose.<br />Use monitoring tools like Prometheus & Grafana to monitor your application, which are usually provided in enterprise grade K8S clusters like Openshift.                                                                                                                                           |
| Configure the applications to write their logs to<br />stdout/stderr                                                             | OpenShift will collect those logs and send them to a centralized location (ELK, Splunk).<br />Application logs are an invaluable resource when analyzing production issues. <br />Alerting based on the content of the application logs helps ensure that the application is performing as expected.                                                                                                                                                |
| Consider implemting container design patterns like :<br />- Circuit breakers<br />- Timeouts<br />- Retries<br />- Rate limiting | The listed resiliency measures make your application perform better in the case of failures.<br />They protect your application from getting overloaded (rate limiting, circuit breakers), <br />and improve the performance when facing connectivity issues (timeouts, retries). <br />OpenShift Service Mesh which implements these measures without the need for code changes in your application.                                               |
|                                                                                                                                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
